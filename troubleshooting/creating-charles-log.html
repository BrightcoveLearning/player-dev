---
title: Creating a Charles Log
parent: Troubleshooting
---
<article class="bcls-article">
  <h1>Creating a Charles Log</h1>
  <summary>In this topic, you will learn how to create and save a <span class="notranslate">Charles</span> log. This can be helpful when working with support, and they may ask you to send the log to them.</summary>
  <section class="bcls-section" id="top">
    <p><span class="notranslate">Charles</span> is a web proxy that runs on your computer and allows you to record data that is sent and received between your web browser and the server. Using <span class="notranslate">Charles</span> makes it easy to diagnose and fix problems. For details, see the <a href="https://www.charlesproxy.com/"><span class="notranslate">Charles</span> web proxy</a> site.</p>
    <aside class="bcls-aside bcls-aside--information">When using <span class="notranslate">Charles</span>, close as many applications as possible and close all unnecessary browser windows to limit the amount of information that is captured by <span class="notranslate">Charles</span>.</aside>
  </section>
  <!-- <section id="Video_overview" class="bcls-section">
              <h2>Video overview</h2>
              <p>The following video shows the process of creating the network log. Following the video, the process is shown in a step-by-step format.</p>
              <iframe src="//players.brightcove.net/20318290001/E16-WGGOe_default/index.html?videoId=5285320772001"
                allowfullscreen
                webkitallowfullscreen
                mozallowfullscreen
                width="640"
                height="360"></iframe>
            </section> -->
  
  <section class="bcls-section">
    <h2 id="Steps_to_create_a_Charles_log">Steps to create a <span class="notranslate">Charles</span> log</h2>
    <p>The following steps lead you through using the <span class="notranslate">Charles</span> web proxy to create a recorded log.</p>
    <ol class="bcls-tasklist">
      <li class="language-editable">
        <p><a href="//www.charlesproxy.com/download/">Download</a> and install <span class="notranslate">Charles</span> on your machine. <span class="notranslate">Charles</span> is compatible with Windows, Mac and Linux. For platform specific details about installing <span class="notranslate">Charles</span>, see the <a href="https://www.charlesproxy.com/documentation/installation/"><span class="notranslate">Charles</span> Installation</a> notes.</p>
      </li>
      <li class="language-editable">On your computer, run <strong><span class="notranslate">Charles</span></strong>. From the menu, select <strong>Proxy &gt; Proxy Settings</strong>. Ensure a port has been assigned (e.g., 8888) and the <strong>Enable transparent HTTP proxying</strong> option is selected.
        <figure class="bcls-figure"><img class="bcls-image" alt="Proxy settings" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/proxy-settings.png" />
          <figcaption class="bcls-caption--image">Proxy settings</figcaption>
        </figure>
      </li>
      <li class="language-editable">Select <strong>OK</strong> to save changes and close the dialog.</li>
      <li class="language-editable">Install the <span class="notranslate">Charles</span> SSL certificate. From the menu, select <strong>Help &gt; SSL Proxying &gt; Install <span class="notranslate">Charles</span> Root Certificate</strong>.
        <figure class="bcls-figure"><img class="bcls-image" alt="Install Charles SSL certificate" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/ssl-certificate.png" />
          <figcaption class="bcls-caption--image">Install <span class="notranslate">Charles</span> SSL certificate</figcaption>
        </figure>
      </li>
      <li class="language-editable">In the <strong>Add Certificate</strong> dialog, select <strong>Add</strong>.
        <figure class="bcls-figure"><img class="bcls-image" alt="Add Charles SSL certificate" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/ssl-certificate-add.png" />
          <figcaption class="bcls-caption--image">Add <span class="notranslate">Charles</span> SSL certificate</figcaption>
        </figure>
      </li>
      <li class="language-editable">
        <p><strong>Keychain Access</strong> will open. From the certificate list, find the <strong><span class="notranslate">Charles</span> Proxy...</strong> certificate. Double click on it to see detailed information.</p>
        <aside class="bcls-aside bcls-aside--tip language-editable">If you are not using macOS, see the <a href="https://www.charlesproxy.com/documentation/using-charles/ssl-certificates/"><span class="notranslate">Charles</span> documentation</a> for details about SSL certificates.</aside>
        <figure class="bcls-figure"><img class="bcls-image" alt="Keychain Access" src="//learning-services-media.brightcove.com/doc-assets/concepts/debugging/keychain-access.png" />
          <figcaption class="bcls-caption--image">Keychain Access</figcaption>
        </figure>
      </li>
      <li class="language-editable">Expand the <strong>Trust</strong> section. For the <strong>When using this certificate</strong> option, select <strong>Always trust</strong>.
        <figure class="bcls-figure"><img class="bcls-image" alt="Trust certificate" src="//learning-services-media.brightcove.com/doc-assets/concepts/debugging/certificate-trust.png" />
          <figcaption class="bcls-caption--image">Trust certificate</figcaption>
        </figure>
      </li>
      <li class="language-editable">Close the certificate window and enter your Admin password to update settings.</li>
      <li class="language-editable">Enable SSL proxying in <span class="notranslate">Charles</span>. From the menu, select <strong>Proxy &gt; SSL Proxy Settings</strong>. Ensure the <strong>Enable SSL Proxying</strong> option is selected. In the <strong>Location</strong> section, select the <strong>Add</strong> button.
        <figure class="bcls-figure"><img class="bcls-image" alt="SSL Proxy settings" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/ssl-proxy-settings.png" />
          <figcaption class="bcls-caption--image">SSL Proxy settings</figcaption>
        </figure>
      </li>
      <li class="language-editable">In the <strong>Edit Location</strong> dialog, navigate to the <strong>Port</strong> field and enter <strong>443</strong>. Select <strong>OK</strong> to save this change.
        <figure class="bcls-figure"><img class="bcls-image" alt="Location port 443" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/port-443.png" />
          <figcaption class="bcls-caption--image">Location port 443</figcaption>
        </figure>
      </li>
      <li class="language-editable">Select <strong>OK</strong> to close the <strong>Edit Location</strong> dialog.
        <figure class="bcls-figure"><img class="bcls-image" alt="SSL settings with location" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/ssl-settings-location.png" />
          <figcaption class="bcls-caption--image">SSL settings with location</figcaption>
        </figure>
      </li>
      <li class="language-editable">Select <strong>OK</strong> to exit the <strong>SSL Proxying Settings</strong> dialog.</li>
      <li class="language-editable">It's recommended that you restart your computer at this point to make sure that <span class="notranslate">Charles</span> picks up the new certificate settings.</li>
      <li class="language-editable">Keep <span class="notranslate">Charles</span> open while you do the next steps.</li>
      <li class="language-editable">Paste the URL to the page that contains the Brightcove Player you are troubleshooting into the browser's address bar, and then press <strong>Enter</strong> to load the page.</li>
      <li class="language-editable">Run through the steps you previously used to reproduce the error or issue. <span class="notranslate">Charles</span> will automatically record what is happening.</li>
      <li class="language-editable">If network traffic is needed for when the player is playing a video, start the video.</li>
      <li class="language-editable">After reproducing the error, return to <span class="notranslate">Charles</span>. Select the <strong>Structure</strong> view and find the URL for your player.</li>
      <li class="language-editable">Select <strong>Stop Recording</strong>.
        <figure class="bcls-figure"><img class="bcls-image" alt="Charles stop recording" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/charles-stop-recording.png" />
          <figcaption class="bcls-caption--image"><span class="notranslate">Charles</span> stop recording</figcaption>
        </figure>
      </li>
      <li class="language-editable">Save the current session in a file.
        <figure class="bcls-figure"><img class="bcls-image" alt="Charles save session" src="//learning-services-media.brightcove.com/doc-assets/concepts/mobile-debugging/charles-save-session.png" />
          <figcaption class="bcls-caption--image"><span class="notranslate">Charles</span> save session</figcaption>
        </figure>
      </li>
      <li class="language-editable">Email the <span class="notranslate">Charles</span> session file to the appropriate support personnel.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Add_Akamai_headers">Add Akamai headers</h2>
    <p>In this section, you will learn how to add Akamai headers to your requests.</p>
    <ol class="bcls-tasklist__restart">
      <li class="language-editable">From the main <span class="notranslate">Charles</span> window, select <strong>Tools</strong> and then <strong>Rewrite</strong>.
        <figure class="bcls-figure"><img class="bcls-image" alt="Tools Rewrite" src="//learning-services-media.brightcove.com/doc-assets/concepts/debugging/tools-rewrite.png" />
          <figcaption class="bcls-caption--image">Tools Rewrite</figcaption>
        </figure>
      </li>
      <li class="language-editable">In the <strong>Rewrite Settings</strong> dialog, select <strong>Enable Rewrite</strong>.</li>
      <li class="language-editable">Add a new Set called <strong>Akamai Headers</strong>.
        <figure class="bcls-figure"><img class="bcls-image" alt="Add header" src="//learning-services-media.brightcove.com/doc-assets/concepts/debugging/add-header.png" />
          <figcaption class="bcls-caption--image">Add header</figcaption>
        </figure>
      </li>
      <li class="language-editable">Add a new Rule.
        <figure class="bcls-figure"><img class="bcls-image" alt="Add rule" src="//learning-services-media.brightcove.com/doc-assets/concepts/debugging/add-rule.png" />
          <figcaption class="bcls-caption--image">Add rule</figcaption>
        </figure>
      </li>
      <li class="language-editable">
        <p>In the <strong>Rewrite Rule</strong> dialog, select a <strong>type</strong> of <strong>Add Header</strong>.</p>
      </li>
      <li class="language-editable">
        <p>In the <strong>Replace</strong> section, add the following:</p>
        <p><strong>Name:</strong> <code translate="No">Pragma</code></p>
        <p><strong>Value:</strong></p>
        <pre>
      <code class="language-xml">akamai-x-get-request-id, akamai-x-cache-on, akamai-x-cache-remote-on,
      akamai-x-check-cacheable, akamai-x-get-cache-key, akamai-x-get-extracted-values,
      akamai-x-get-nonces, akamai-x-get-ssl-client-session-id, akamai-x-get-true-cache-key,
      akamai-x-serial-no</code></pre>
        <figure class="bcls-figure"><img class="bcls-image" alt="Add rule details" src="//learning-services-media.brightcove.com/doc-assets/concepts/debugging/add-rule2.png" />
          <figcaption class="bcls-caption--image">Add rule details</figcaption>
        </figure>
      </li>
      <li class="language-editable">Select <strong>OK</strong>, and then <strong>OK</strong>.</li>
    </ol>
  </section>

  <section class="bcls-section">
<h2 id="Charles_for_mobile">Charles for mobile</h2>
<p>To learn about capturing mobile logs with Charles, see the <a href="https://general.support.brightcove.com/developer/debugging-mobile-devices.html#Charles_for_mobile">Debugging on Mobile Devices</a> document.</p>

</section>
</article>
